<p-table #table [columns]="cols" [value]="data" [paginator]="true" [rows]="8" [customSort]="true" autoLayout="true"
  (sortFunction)="customSort($event)">
  <ng-template pTemplate="header" let-columns>
    <!-- Table Headers-->
    <tr>
      <th *ngFor="let col of columns" [pSortableColumn]="col.field">
        {{ 'Data.' +col.header | translate }}
        <p-sortIcon [field]="col.field"></p-sortIcon>
      </th>
      <!-- Show Action In Header Row-->
      <th
        *ngIf="actions && (permissions.indexOf('Permission.'+ componentName+ '.Edit') > -1 || permissions.indexOf('Permission.'+ componentName+ '.Delete') > -1)"
        style="width: 10em;">
        {{ 'Data.Actions' | translate}}</th>
    </tr>
    <!-- Filter Controls-->
    <tr>
      <th *ngFor="let col of columns" [ngSwitch]="col.filterMode">
        <input *ngSwitchCase="'text'" pInputText type="text" (input)="filter($event.target.value, col.field)">
      </th>
      <!-- Show Action In Filter Controls Row-->
      <th
        *ngIf="actions && (permissions.indexOf('Permission.'+ componentName+ '.Edit') > -1 || permissions.indexOf('Permission.'+ componentName+ '.Delete') > -1)">
      </th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-row let-columns="columns">
    <!-- Table Rows-->
    <tr>
      <!-- Display Data-->
      <td *ngFor="let col of columns">
        {{ row[col.field] }}
      </td>
      <!-- Display Actions-->
      <td
        *ngIf="actions && (permissions.indexOf('Permission.'+ componentName+ '.Edit') > -1 || permissions.indexOf('Permission.'+ componentName+ '.Delete') > -1)"
        class="actions">
        <span *ngFor="let action of actions">
          <span *ngIf="action.isEdit && permissions.indexOf('Permission.'+ componentName+ '.Edit') > -1">
            <a [routerLink]="currentRoute + row.id">
              <i class="{{ action.icon }} icon"></i>
            </a>
          </span>
          <span *ngIf="action.isDelete && permissions.indexOf('Permission.'+ componentName+ '.Delete') > -1">
            <i class="{{ action.icon }} icon" (click)="openDeleteModal(row.id)"></i>
          </span>
        </span>
      </td>
    </tr>
  </ng-template>

</p-table>
